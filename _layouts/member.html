---
layout: default
---

{% include header.html %}

<div class="member-detail-page">
  <div class="container">
    <a href="/members.html" class="back-link">
      <svg
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
      >
        <path d="M19 12H5M12 19l-7-7 7-7" />
      </svg>
      Volver al Equipo
    </a>

    <div class="profile-header">
      <div class="profile-photo-container">
        {% if page.photo %}
        <img
          src="{{ page.photo }}"
          alt="{{ page.title }}"
          class="profile-img"
        />
        {% else %}
        <div class="profile-placeholder">
          {{ page.title | slice: 0, 1 | upcase }}
        </div>
        {% endif %}
      </div>

      <div class="profile-info">
        <h1>{{ page.title }}</h1>
        <p class="profile-role">{{ page.role }}</p>

        <div class="profile-actions">
          {% if page.email %}
          <a href="mailto:{{ page.email }}" class="action-pill" title="Email">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
              <path
                d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"
              />
            </svg>
            Email
          </a>
          {% endif %} {% if page.scholar %}
          <a
            href="https://scholar.google.com/citations?user={{ page.scholar }}"
            class="action-pill"
            target="_blank"
          >
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
              <path
                d="M7 0 C3.686 0 1 2.686 1 6h6v1H1c0 3.314 2.686 6 6 6s6-2.686 6-6-2.686-6-6-6zm0 2a4 4 0 0 1 3.873 3H7V4h3.873A4 4 0 0 1 7 7V6h4a4 4 0 0 1-4 4z"
              />
            </svg>
            Google Scholar
          </a>
          {% endif %}
        </div>
      </div>
    </div>

    <div class="profile-content-grid">
      <!-- Columna de Biografía -->
      <div class="bio-column">
        <h2>Biografía</h2>
        <div class="bio-text">{{ content }}</div>
      </div>

      <!-- Columna de Publicaciones y Proyectos -->
      <div class="side-column">
        {% assign member_name = page.title %}

        <!-- SECCIÓN: Publicaciones Destacadas -->
        {% assign member_pubs = site.publications | where_exp: "item",
        "item.authors contains member_name" | sort: 'date' | reverse %} {% if
        member_pubs.size > 0 %}
        <div class="collapsible-section">
          <details>
            <summary class="section-header">
              <span class="section-title">
                <svg
                  width="18"
                  height="18"
                  fill="currentColor"
                  viewBox="0 0 16 16"
                  class="section-icon"
                >
                  <path
                    d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"
                  />
                  <path
                    d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"
                  />
                </svg>
                Últimas Publicaciones
                <span class="badge">{{ member_pubs.size }}</span>
              </span>
              <svg
                class="chevron"
                width="16"
                height="16"
                fill="currentColor"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"
                />
              </svg>
            </summary>

            <div class="section-content">
              <div class="items-list">
                {% for pub in member_pubs limit:5 %}
                <a href="{{ pub.url }}" class="item-card">
                  <span class="item-year">{{ pub.date | date: "%Y" }}</span>
                  <div class="item-info">
                    <h4>{{ pub.title }}</h4>
                    <span class="item-meta">{{ pub.venue }}</span>
                  </div>
                </a>
                {% endfor %}
              </div>
              {% if member_pubs.size > 5 %}
              <a href="/publications.html" class="view-all-link">
                Ver todas las publicaciones →
              </a>
              {% endif %}
            </div>
          </details>
        </div>
        {% endif %}

        <!-- SECCIÓN: Proyectos -->
        {% assign member_projects = site.projects | where_exp: "proj",
        "proj.investigators contains member_name" %} {% if member_projects.size
        > 0 %}
        <div class="collapsible-section">
          <details>
            <summary class="section-header">
              <span class="section-title">
                <svg
                  width="18"
                  height="18"
                  fill="currentColor"
                  viewBox="0 0 16 16"
                  class="section-icon"
                >
                  <path
                    d="M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.825a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3zm-8.322.12C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139z"
                  />
                </svg>
                Proyectos
                <span class="badge">{{ member_projects.size }}</span>
              </span>
              <svg
                class="chevron"
                width="16"
                height="16"
                fill="currentColor"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"
                />
              </svg>
            </summary>

            <div class="section-content">
              <div class="items-list">
                {% for project in member_projects %}
                <div class="item-card project-card">
                  <div class="project-header">
                    <span class="item-year">
                      {{ project.start_year }}{% if project.end_year %}-{{
                      project.end_year }}{% else %}-Presente{% endif %}
                    </span>
                    {% if project.url and project.url != "" %}
                    <a
                      href="{{ project.url }}"
                      target="_blank"
                      class="project-link"
                      title="Ver proyecto"
                    >
                      <svg
                        width="14"
                        height="14"
                        fill="currentColor"
                        viewBox="0 0 16 16"
                      >
                        <path
                          fill-rule="evenodd"
                          d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"
                        />
                        <path
                          fill-rule="evenodd"
                          d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"
                        />
                      </svg>
                    </a>
                    {% endif %}
                  </div>
                  <a href="{{ project.url }}" class="item-info">
                    <h4>{{ project.title }}</h4>
                    <div class="project-details">
                      <p class="project-funding">
                        <strong>Financiamiento:</strong> {{ project.funding }}
                      </p>
                    </div>
                  </a>
                </div>
                {% endfor %}
              </div>
            </div>
          </details>
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>

<style>
  .member-detail-page {
    padding: 3rem 0;
    min-height: 80vh;
  }

  .back-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: #667eea;
    text-decoration: none;
    font-weight: 500;
    margin-bottom: 2rem;
    transition: transform 0.2s;
  }
  .back-link:hover {
    transform: translateX(-5px);
  }

  /* Header */
  .profile-header {
    display: flex;
    align-items: center;
    gap: 2rem;
    background: white;
    padding: 2rem;
    border-radius: 12px;
    border: 1px solid #e0e0e0;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    margin-bottom: 3rem;
  }

  .profile-img {
    width: 160px;
    height: 160px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid #fff;
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
  }

  .profile-placeholder {
    width: 160px;
    height: 160px;
    border-radius: 50%;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 4rem;
    font-weight: bold;
  }

  .profile-info h1 {
    margin: 0 0 0.5rem 0;
    color: #333;
    font-size: 2.2rem;
  }
  .profile-role {
    color: #667eea;
    font-size: 1.2rem;
    font-weight: 500;
    margin-bottom: 1.5rem;
  }

  .profile-actions {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }
  .action-pill {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    border-radius: 50px;
    background: #f8f9fa;
    color: #555;
    text-decoration: none;
    font-size: 0.9rem;
    transition: all 0.3s;
    border: 1px solid #eee;
  }
  .action-pill:hover {
    background: #667eea;
    color: white;
    border-color: #667eea;
  }

  /* Content Grid */
  .profile-content-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 3rem;
  }

  .bio-column h2,
  .side-column h2 {
    font-size: 1.5rem;
    border-bottom: 2px solid #eee;
    padding-bottom: 0.5rem;
    margin-bottom: 1.5rem;
    color: #333;
  }
  .bio-text {
    font-size: 1.1rem;
    line-height: 1.7;
    color: #444;
  }

  /* === COLLAPSIBLE SECTIONS (ACCORDION) === */
  .collapsible-section {
    background: white;
    border: 1px solid #e0e0e0;
    border-radius: 12px;
    margin-bottom: 1.5rem;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    transition: all 0.3s ease;
  }

  .collapsible-section:hover {
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
  }

  /* Summary Header (Clickable) */
  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.25rem 1.5rem;
    cursor: pointer;
    user-select: none;
    background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
    border-bottom: 1px solid transparent;
    transition: all 0.3s ease;
  }

  .section-header:hover {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
  }

  .section-header:hover .section-title,
  .section-header:hover .badge,
  .section-header:hover .chevron {
    color: white;
  }

  /* Título de la sección */
  .section-title {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1.15rem;
    font-weight: 600;
    color: #333;
    transition: color 0.3s ease;
  }

  .section-icon {
    flex-shrink: 0;
  }

  /* Badge con contador */
  .badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    height: 24px;
    padding: 0 8px;
    background: #667eea;
    color: white;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 700;
    transition: all 0.3s ease;
  }

  .section-header:hover .badge {
    background: white;
    color: #667eea;
  }

  /* Chevron (indicador de colapso) */
  .chevron {
    transition: transform 0.3s ease;
    flex-shrink: 0;
    color: #667eea;
  }

  details[open] .chevron {
    transform: rotate(180deg);
  }

  /* Contenido colapsable */
  .section-content {
    padding: 0 1.5rem 1.5rem 1.5rem;
  }

  /* Lista de items */
  .items-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  /* Tarjetas de items (publicaciones/proyectos) */
  .item-card {
    display: flex;
    gap: 1rem;
    padding: 1rem;
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    text-decoration: none;
    color: inherit;
    transition: all 0.2s ease;
  }

  .item-card:hover {
    border-color: #667eea;
    background: white;
    transform: translateX(3px);
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.1);
  }

  /* Año del item */
  .item-year {
    flex-shrink: 0;
    font-weight: 700;
    color: #667eea;
    font-size: 0.9rem;
    min-width: 80px;
  }

  /* Información del item */
  .item-info {
    flex: 1;
  }

  .item-info h4 {
    margin: 0 0 0.5rem 0;
    font-size: 0.95rem;
    color: #333;
    line-height: 1.4;
  }

  .item-meta {
    font-size: 0.85rem;
    color: #666;
    font-style: italic;
    display: block;
  }

  /* Estilos específicos para proyectos */
  .project-card {
    flex-direction: column;
    gap: 0.5rem;
  }

  .project-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .project-link {
    display: flex;
    align-items: center;
    color: #667eea;
    text-decoration: none;
    padding: 0.25rem;
    border-radius: 4px;
    transition: all 0.2s ease;
  }

  .project-link:hover {
    background: #667eea;
    color: white;
  }

  .project-details {
    margin-top: 0.5rem;
  }

  .project-funding {
    font-size: 0.85rem;
    color: #555;
    margin: 0.25rem 0;
  }

  .project-funding strong {
    color: #333;
  }

  /* Link "Ver todas" */
  .view-all-link {
    display: inline-flex;
    align-items: center;
    margin-top: 1rem;
    padding: 0.5rem 1rem;
    color: #667eea;
    text-decoration: none;
    font-size: 0.9rem;
    font-weight: 500;
    border-radius: 6px;
    transition: all 0.2s ease;
  }

  .view-all-link:hover {
    background: #667eea;
    color: white;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .profile-header {
      flex-direction: column;
      text-align: center;
    }
    .profile-content-grid {
      grid-template-columns: 1fr;
    }
    .item-card {
      flex-direction: column;
      gap: 0.5rem;
    }
    .item-year {
      min-width: auto;
    }
  }
</style>
