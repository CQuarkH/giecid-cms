---
layout: default
title: Proyectos
---

{% include header.html %}

<div class="projects-page">
  <div class="container">
    <h1>Proyectos de Investigación</h1>

    {% assign projects = site.data.projects.projects %} {% assign years =
    projects | map: 'year_start' | uniq | sort | reverse %}

    <div class="year-filters">
      <button class="filter-btn active" data-year="all">Todos</button>
      {% for year in years %}
      <button class="filter-btn" data-year="{{ year }}">{{ year }}</button>
      {% endfor %}
    </div>

    {% if projects.size > 0 %}
    <div class="projects-list">
      {% for project in projects %}
      <div class="project-card" data-year="{{ project.year_start }}">
        <div class="card-header">
          <h2>{{ project.name }}</h2>
          <div class="project-meta">
            <span class="date-badge">
              {{ project.year_start }} {% if project.year_end %} - {{
              project.year_end }}{% else %} - Presente{% endif %}
            </span>
          </div>
        </div>

        <div class="project-content">
          <p>{{ project.description }}</p>
        </div>

        {% if project.url %}
        <div class="project-links">
          <a href="{{ project.url }}" class="btn-sm" target="_blank"
            >Ver Proyecto</a
          >
        </div>
        {% endif %}
      </div>
      {% endfor %}
    </div>
    {% else %}
    <div class="no-projects">
      <p>No hay proyectos listados en este momento.</p>
    </div>
    {% endif %}
  </div>
</div>

<style>
  /* --- Estilos Generales (Heredados de Publicaciones para consistencia) --- */
  .projects-page {
    min-height: 60vh;
    padding: 3rem 0;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  .projects-page h1 {
    font-size: 2.5rem;
    color: #333;
    margin-bottom: 2rem;
    padding-bottom: 1rem;
    border-bottom: 3px solid #667eea;
  }

  /* --- Filtros --- */
  .year-filters {
    margin: 2rem 0;
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    padding: 1rem;
    background: #f8f9fa;
    border-radius: 8px;
  }

  .filter-btn {
    padding: 0.5rem 1.25rem;
    border: 2px solid #e0e0e0;
    background: white;
    color: #666;
    cursor: pointer;
    border-radius: 6px;
    font-weight: 500;
    transition: all 0.3s;
    font-size: 0.95rem;
  }

  .filter-btn:hover {
    border-color: #667eea;
    color: #667eea;
    transform: translateY(-2px);
  }

  .filter-btn.active {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-color: #667eea;
  }

  /* --- Tarjetas de Proyectos --- */
  .projects-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
  }

  .project-card {
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 2rem;
    background: white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    transition: all 0.3s;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .project-card:hover {
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.15);
    transform: translateY(-4px);
    border-color: #667eea;
  }

  .card-header h2 {
    font-size: 1.4rem;
    color: #333;
    margin-bottom: 1rem;
    line-height: 1.3;
  }

  .project-meta {
    margin-bottom: 1.5rem;
  }

  .date-badge {
    display: inline-block;
    background: #f0f2fd;
    color: #667eea;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.85rem;
    font-weight: 600;
    border: 1px solid #dae1f7;
  }

  .project-content {
    color: #555;
    line-height: 1.6;
    font-size: 0.95rem;
    flex-grow: 1; /* Esto hace que las tarjetas se alineen mejor si el texto varía */
  }

  .no-projects {
    text-align: center;
    padding: 4rem 2rem;
    color: #666;
    font-size: 1.1rem;
  }

  /* --- Responsive --- */
  @media (max-width: 768px) {
    .projects-list {
      grid-template-columns: 1fr;
    }

    .projects-page h1 {
      font-size: 2rem;
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const filterButtons = document.querySelectorAll(".filter-btn");
    const projects = document.querySelectorAll(".project-card");

    filterButtons.forEach((button) => {
      button.addEventListener("click", function () {
        const year = this.dataset.year;

        // Actualizar estado visual de los botones
        filterButtons.forEach((btn) => btn.classList.remove("active"));
        this.classList.add("active");

        // Filtrar proyectos
        projects.forEach((proj) => {
          if (year === "all" || proj.dataset.year === year) {
            // Mostrar
            proj.style.display = "flex"; // Usamos flex porque la tarjeta es flex
            proj.style.animation = "fadeIn 0.4s ease-out forwards";
          } else {
            // Ocultar
            proj.style.display = "none";
          }
        });
      });
    });
  });

  // Inyectar animación
  const styleSheet = document.createElement("style");
  styleSheet.textContent = `
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  `;
  document.head.appendChild(styleSheet);
</script>
